<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minicurso Gratuito</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <p class="texto-topo">CLIQUE NA IMAGEM PARA TER ACESSO ðŸ‘‡</p>
        
        <div class="banner">
            <!-- A imagem agora Ã© clicÃ¡vel -->
            <a href="#" id="redirectLink">
                <img src="https://imgur.com/udwG9j6.png" alt="Minicurso Gratuito">
            </a>
        </div>

        <p class="copyright">Copyright Â© CÃ³digo da Liberdade Online | Todos os direitos reservados.</p>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const imagemLink = document.getElementById("redirectLink");
    
            function redirecionarWhatsApp(e) {
                e.preventDefault();
    
                // Verifica se jÃ¡ existe um nÃºmero salvo no navegador do usuÃ¡rio
                const numeroSalvo = localStorage.getItem("whatsappDestino");
    
                if (numeroSalvo) {
                    // JÃ¡ existe â€” redireciona sempre pro mesmo
                    const mensagem = encodeURIComponent("Fala Tayan, quero mais informaÃ§Ãµes sobre o Minicurso ðŸ’°!");
                    const url = `https://api.whatsapp.com/send?phone=${numeroSalvo}&text=${mensagem}`;
                    console.log(`Redirecionando (fixo) para: ${url}`);
                    window.location.href = url;
                    return;
                }
    
                // Lista com distribuiÃ§Ã£o percentual
                const numerosComPercentual = [
                    { numero: "5531971093699", percentual: 40 }, // Gabriela (40%)
                    { numero: "5581985307047", percentual: 30 }, // Gabriel (30%)
                    { numero: "5531995094917", percentual: 10 }, // CainÃ£ (10%)
                    { numero: "5544991181399", percentual: 5 },  // Hermes (5%)
                    { numero: "5531995452119", percentual: 10 }, // Tarles (10%)
                    { numero: "5534984479415", percentual: 5 }   // Anderson (5%)
                ];
    
                const randomNum = Math.random() * 100;
                let acumulado = 0;
                let numeroEscolhido = null;
    
                for (let i = 0; i < numerosComPercentual.length; i++) {
                    acumulado += numerosComPercentual[i].percentual;
                    if (randomNum <= acumulado) {
                        numeroEscolhido = numerosComPercentual[i].numero;
                        break;
                    }
                }
    
                // Salva o nÃºmero no navegador
                localStorage.setItem("whatsappDestino", numeroEscolhido);
    
                // Redireciona
                const mensagem = encodeURIComponent("Fala Tayan, quero mais informaÃ§Ãµes sobre o Minicurso ðŸ’°!");
                const url = `https://api.whatsapp.com/send?phone=${numeroEscolhido}&text=${mensagem}`;
                console.log(`Redirecionando (novo) para: ${url}`);
                window.location.href = url;
            }
    
            imagemLink.addEventListener("click", redirecionarWhatsApp);
        });
    </script>
    
</body>
</html>
