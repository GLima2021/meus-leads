<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minicurso Gratuito</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <p class="texto-topo">CLIQUE EM â€œASSISTA AGORAâ€ PRA TER ACESSO ğŸ‘‡</p>
        
        <div class="banner">
            <a href="#" id="redirectLink">
                <img src="https://imgur.com/udwG9j6.png" alt="Minicurso Gratuito">
            </a>
            <a href="#" class="botao" id="botaoRedirect">Assista agora</a>
        </div>

        <p class="copyright">Copyright Â© CÃ³digo da Liberdade Online | Todos os direitos reservados.</p>
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", function () {
        const botao = document.getElementById("botaoRedirect");
        const imagemLink = document.getElementById("redirectLink");

        // AnimaÃ§Ã£o de fade-in no botÃ£o
        botao.style.opacity = "0";
        botao.style.transition = "opacity 1.5s ease-in-out";
        setTimeout(() => {
            botao.style.opacity = "1";
        }, 500);

        // FunÃ§Ã£o de redirecionamento com pesos
        function redirecionarWhatsApp(e) {
            e.preventDefault();

            const numerosComPesos = [
                { numero: "5583988619696", peso: 4 }, // CainÃ£
                { numero: "5581985307047", peso: 3 }, // Gabriel
                { numero: "5585991724788", peso: 2 }, // Anderson
                { numero: "5534999224730", peso: 1 }  // Tarles
            ];

            const listaPonderada = [];
            numerosComPesos.forEach(item => {
                for (let i = 0; i < item.peso; i++) {
                    listaPonderada.push(item.numero);
                }
            });

            // Embaralhar lista
            for (let i = listaPonderada.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [listaPonderada[i], listaPonderada[j]] = [listaPonderada[j], listaPonderada[i]];
            }

            const numeroEscolhido = listaPonderada[Math.floor(Math.random() * listaPonderada.length)];
            const mensagem = encodeURIComponent("Fala Tayan, quero mais informaÃ§Ãµes sobre o Minicurso ğŸ’°!");
            const url = `https://api.whatsapp.com/send?phone=${numeroEscolhido}&text=${mensagem}`;

            console.log(`Redirecionando para: ${url}`);
            window.location.href = url;
        }

        // Aplica redirecionamento tanto no botÃ£o quanto na imagem
        botao.addEventListener("click", redirecionarWhatsApp);
        imagemLink.addEventListener("click", redirecionarWhatsApp);
    });
    </script>
</body>
</html>
